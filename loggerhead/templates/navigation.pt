<div class="bar">
  <form tal:attributes="action python:branch.url('/changes', start_revid=getattr(navigation, 'start_revid', None), file_id=getattr(navigation, 'file_id', None))">
    <table>
      <tr>
        <td>
          <span class="buttons">
            <a tal:attributes="href python:url('/changes', clear=1)"> changes </a>
            <a tal:attributes="href python:url('/files', clear=1)"> files </a>
            <span class="search">
              search: <input type="text" name="q" />
            </span>
          </span>
        </td>
        <td align="right" tal:condition="navigation/revid_list|nothing">
          <span tal:condition="navigation/feed" class="rbuttons feed">
            <a tal:attributes="href python:url(['/atom'])">
              <img tal:attributes="src python:tg.url('/static/images/feed-icon-16x16.gif')" />
            </a>
          </span>
          <span class="navbuttons">
            <span tal:condition="navigation/prev_page_revid">
              <a tal:attributes="href navigation/prev_page_url" title="Previous page"> &#171; </a>
            </span>
            <span tal:condition="not:navigation/prev_page_revid"> &#171; </span>
            revision <tal:b content="python:history.get_revno(revid)" />
            (<tal:b condition="python:navigation.pagesize > 1">page </tal:b>
            <tal:b content="navigation/page_position" /> / <tal:b content="navigation/page_count" />)
            <span tal:condition="navigation/next_page_revid">
              <a tal:attributes="href navigation/next_page_url" title="Next page"> &#187; </a>
            </span>
            <span tal:condition="not:navigation/next_page_revid"> &#187; </span>
          </span>
        </td>
      </tr>
    </table>
  </form>
</div>
