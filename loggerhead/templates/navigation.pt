<div class="bar">
  <form tal:attributes="action python:branch.url('/changes', start_revid=getattr(navigation, 'start_revid', None), file_id=getattr(navigation, 'file_id', None))">
    <table>
      <tr>
        <td>
          <span class="buttons">
            <a href="${branch.url('/changes', **util.get_context(clear=1))}"> changes </a>
            <a href="${branch.url('/files', **util.get_context(clear=1))}"> files </a>
            <span class="search">
              search: <input type="text" name="q" />
            </span>
          </span>
        </td>
        <td align="right" tal:condition="navigation/revid_list|nothing">
          <span tal:condition="navigation/feed" class="rbuttons feed">
            <a href="${branch.url('/atom')}">
              <img src="${tg.url('/static/images/feed-icon-16x16.gif')}" />
            </a>
          </span>
          <span class="navbuttons">
            <span tal:condition="navigation/prev_page_revid">
              <a href="${navigation.prev_page_url}" title="Previous page"> &#171; </a>
            </span>
            <span tal:condition="python:not navigation.prev_page_revid"> &#171; </span>
            revision ${history.get_revno(revid)}
            (<span tal:condition="python:navigation.pagesize > 1">page </span>
            ${navigation.page_position} / ${navigation.page_count})
            <span tal:condition="navigation/next_page_revid">
              <a href="${navigation.next_page_url}" title="Next page"> &#187; </a>
            </span>
            <span tal:condition="python:not navigation.next_page_revid"> &#187; </span>
          </span>
        </td>
      </tr>
    </table>
  </form>
</div>
