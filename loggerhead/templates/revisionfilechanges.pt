<tal:block>

<div tal:repeat="added entry/changes/added">
    <tal:block condition="repeat/added/start">
        <li class="desc">files added:</li>
    </tal:block>
    <li class="files"
        tal:define="filename python:added[0];
                    file_id  python:added[1]">
        <a tal:attributes="href  python:url(['/annotate', entry.revno], file_id=file_id);
                           title string:Annotate ${filename}"
           tal:content="filename" class="link"></a>
    </li>
</div>

<div tal:repeat="removed entry/changes/removed">
    <tal:block condition="repeat/removed/start">
        <li class="desc">files removed:</li>
    </tal:block>
    <li class="files"
        tal:define="filename python:removed[0];
                    file_id  python:removed[1]">
      <a tal:attributes="href  python:url(['/annotate', entry.revno], file_id=file_id);
                         title string:Annotate ${filename}"
                         tal:content="filename" class="link"></a>
    </li>
</div>

<div tal:repeat="renamed entry/changes/renamed">
    <tal:block condition="repeat/renamed/start">
        <li class="desc">files renamed:</li>
    </tal:block>
    <li class="files"
        tal:define="old_filename python:renamed[0];
                    new_filename python:renamed[1];
                    file_id      python:renamed[2]">
      <a tal:attributes="href  python:url(['/annotate', entry.revno], file_id=file_id);
                         title string:Annotate ${old_filename}"
         tal:content="old_filename" class="filename">
        old_filename
      </a>
      =>
      <a tal:attributes="href  python:url(['/annotate', entry.revno], file_id=file_id);
                         title string:Annotate ${new_filename}"
         tal:content="new_filename">
        new_filename
      </a>
    </li>
</div>

<div tal:repeat="item entry/changes/modified">
    <tal:block condition="repeat/item/start">
        <li class="desc">files modified:</li>
    </tal:block>
    <tal:b content="structure python:modified_file_link(url, entry, item)" />
</div>

</tal:block>
