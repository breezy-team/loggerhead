<div class="revision-info">
  <table>
    <tr>
      <th class="author">
        committed by:
      </th>
      <td class="author"
          tal:content="python:util.hide_email(change.author)">
        author@email
      </td>
    </tr>
    <tr>
      <th class="date">
        date:
      </th>
      <td class="date"
          tal:content="python:change.date.strftime('%d %b %Y %H:%M')">
        date
      </td>
    </tr>

    <tr tal:condition="change/merge_points">
      <th class="children">
        merged in:
      </th>
      <td class="children">
        <tal:merge-points repeat="child change/merge_points">
          <a tal:attributes="title string:Show revision ${child/revno};
                             href python:branch.url([ '/revision', child.revid ], **util.get_context(clear=1, start_revid=child.revid))"
             tal:content="python:'(' + child.revno + util.if_present(' %s', child.branch_nick) + ')'">
            text
          </a>
          <br />
        </tal:merge-points>
      </td>
    </tr>
    <tr tal:condition="python:len(change.parents) > 1">
      <th class="parents">
        merged from:
      </th>
      <td class="parents">
        <tal:parents repeat="parent python:change.parents[1:]">
          <a tal:attributes="title string:Show revision ${parent/revno};
                             href python:branch.url([ '/revision', parent.revid ], **util.get_context(clear=1, start_revid=parent.revid))"
             tal:content="python:'(' + parent.revno + util.if_present(' %s', parent.branch_nick) + ')'">
            text
          </a>
        </tal:parents>
      </td>
    </tr>

    <tr>
      <th class="description">
        description:
      </th>
      <td class="description">
        <span tal:repeat="line change/comment_clean">
          <tal:line replace="structure line" />
          <br />
        </span>
      </td>
    </tr>
    <tal:block condition="includefilechanges|nothing">
      <tr class="divider">
        <th>
        </th>
        <td>
        </td>
      </tr>
      <tal:block define="entry change"
                 content="structure here/revisionfilechanges.pt" />
    </tal:block>
  </table>
</div>
